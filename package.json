{
   "name": "public-digital-library",
   "version": "0.1.0",
   "private": true,
   "dependencies": {
      "@babel/plugin-syntax-jsx": "^7.14.5",
      "@dbmdz/mirador-keyboardnavigation": "^1.1.0",
      "@fortawesome/fontawesome-svg-core": "^1.2.15",
      "@fortawesome/free-solid-svg-icons": "^5.7.2",
      "@fortawesome/react-fontawesome": "^0.1.4",
      "@material-ui/core": "^1.4.2",
      "@material-ui/icons": "^2.0.0",
      "@quentin-sommer/react-useragent": "^3.1.1",
      "@sanskrit-coders/sanscript": "^1.0.2",
      "@turf/bbox": "^6.0.1",
      "@turf/meta": "^6.0.2",
      "array-move": "^2.1.0",
      "auth0-js": "^9.6.1",
      "axios": "^0.27.2",
      "citation-js": "^0.5.1",
      "dms-to-decimal": "^0.0.6",
      "downloadjs": "^1.4.7",
      "edtf": "https://github.com/buda-base/edtf.js",
      "formdata-polyfill": "^3.0.11",
      "google-maps": "^3.3.0",
      "google-maps-react": "^2.0.0",
      "hanzi-tsconv": "^0.1.1",
      "html-react-parser": "^1.2.7",
      "i18next": "^19.4.5",
      "i18next-redux-saga": "git+https://github.com/alexiusp/i18next-redux-saga.git",
      "interweave": "^12.6.0",
      "intl-pluralrules": "^1.2.2",
      "jquery": "^3.3.1",
      "js-cookies": "^1.0.4",
      "js-file-download": "^0.4.1",
      "jsewts": "^1.0.3",
      "leaflet": "^1.7.1",
      "leaflet-gesture-handling": "^1.2.1",
      "leaflet.markercluster.freezable": "^1.0.0",
      "lodash": "^4.17.10",
      "logdown": "^3.3.1",
      "material-colors": "^1.2.5",
      "material-ui-search-bar": "^1.0.0-beta.14",
      "mirador": "https://github.com/buda-base/mirador#2.7.0-bdrc",
      "pinyin4js": "^1.3.18",
      "query-string": "^5.1.0",
      "rdflib": "^2.2.18",
      "react": "^16.2.0",
      "react-bootstrap": "^0.31.2",
      "react-clear-cache": "^1.2.0",
      "react-cookie": "^3.0.4",
      "react-cookie-consent": "^5.0.1",
      "react-copy-to-clipboard": "^5.0.1",
      "react-dom": "^16.2.0",
      "react-ga": "^2.7.0",
      "react-i18next": "^11.7.3",
      "react-infinite-scroller": "^1.1.4",
      "react-lazyload": "^3.2.0",
      "react-leaflet": "^3.0.0",
      "react-leaflet-cluster": "^1.0.3",
      "react-leaflet-google-layer": "^2.0.0",
      "react-load-script": "^0.0.6",
      "react-loader": "^2.4.2",
      "react-new-window": "^0.0.7",
      "react-redux": "^5.0.6",
      "react-resizable": "^1.8.0",
      "react-router": "^4.2.0",
      "react-router-dom": "^4.2.2",
      "react-scrollable-anchor": "^0.6.1",
      "react-select": "^5.2.1",
      "react-social-icons": "^4.1.0",
      "react-sortable-hoc": "^1.10.1",
      "react-swipeable": "^7.0.0",
      "react-tabs": "^3.1.0",
      "react-test-renderer": "^16.8.2",
      "redux": "^3.7.2",
      "redux-actions": "^2.2.1",
      "redux-devtools-extension": "^2.13.2",
      "redux-saga": "^0.16.0",
      "simplebar-react": "^2.3.6",
      "tibetan-sort-js": "^2.1.3"
   },
   "scripts": {
      "start": "react-scripts start",
      "build": "react-scripts build",
      "postbuild": "yarn run patch-build && touch prod && mv prod old_prod && cp -r build prod && rm -rf old_prod",
      "test": "react-scripts test --env=jsdom",
      "eject": "react-scripts eject",
      "flow": "flow",
      "cp-mirador-to-public": "rm -rf public/scripts/mirador && cp -R node_modules/mirador/dist public/scripts/mirador",
      "link-embed-iframe": "ln -nsf ../embed-iframe.html public/scripts/ && ln -nsf ../miradorInit.js public/scripts/ &&  ln -nsf ../tibcolldemo2.json public/scripts/ && ln -nsf ../../src/ public/scripts/  && cd public/scripts/src/lib && ln -nsf ../../public/scripts/mirador",
      "postinstall": "yarn cp-mirador-to-public && yarn link-embed-iframe && yarn deploy-budax && yarn mirador-translations",
      "prebuild": "yarn run generate-build-meta",
      "generate-build-meta": "./node_modules/react-clear-cache/bin/cli.js",
      "deploy-budax": "budax=$(pwd); if [ -d $budax/../budax/ ] ; then budax=$budax/../budax/ ; elif [ -d $budax/../../budax/ ] ; then budax=$budax/../../budax/ ; else budax=\"\" ; fi ; if [ \"$budax\" != \"\" ] ; then cd public/static/ && rm budax/ -rf && cp -rf $budax . && find budax/ -name \"*.html\" | while read fic ; do base=$(basename \"$fic\" .html); dir=$(dirname \"$fic\"); cp -f \"$fic\" \"$dir\"/\"$base\".en.html ; cp -f \"$fic\" \"$dir\"/\"$base\".bo.html ; cp -f \"$fic\" \"$dir\"/\"$base\".zh.html ; done ; cd ../scripts ; ln -nsf ../static . ; else echo \"budax missing in root dir\" ; fi",
      "update-budax": "cd /tmp ; unzip budax-master.zip ; cd /usr/local ; sudo rm -rf budax-old/ ; sudo mv budax budax-old ; sudo mv /tmp/budax-master budax",
      "patch-build": "bash ./public/scripts/patch-build.sh",
      "mirador-translations": "for i in src/translations/*json ; do tr=public/scripts/mirador/locales/$(basename $i .json)/translation.json ; echo \"{\" > $tr ; cat $i | grep \"\\\"viewer\\\":\" -A 10000 | egrep -v \"[{}]\" >> $tr ; echo \"}\" >> $tr ; echo $i ok ; done"
   },
   "devDependencies": {
      "@babel/cli": "^7.0.0",
      "@babel/core": "^7.0.0",
      "@babel/plugin-proposal-class-properties": "^7.0.0",
      "@babel/plugin-proposal-decorators": "^7.0.0",
      "@babel/plugin-proposal-do-expressions": "^7.0.0",
      "@babel/plugin-proposal-export-default-from": "^7.0.0",
      "@babel/plugin-proposal-export-namespace-from": "^7.0.0",
      "@babel/plugin-proposal-function-bind": "^7.0.0",
      "@babel/plugin-proposal-function-sent": "^7.0.0",
      "@babel/plugin-proposal-json-strings": "^7.0.0",
      "@babel/plugin-proposal-logical-assignment-operators": "^7.0.0",
      "@babel/plugin-proposal-nullish-coalescing-operator": "^7.0.0",
      "@babel/plugin-proposal-numeric-separator": "^7.0.0",
      "@babel/plugin-proposal-optional-chaining": "^7.0.0",
      "@babel/plugin-proposal-pipeline-operator": "^7.0.0",
      "@babel/plugin-proposal-throw-expressions": "^7.0.0",
      "@babel/plugin-syntax-dynamic-import": "^7.2.0",
      "@babel/plugin-syntax-import-meta": "^7.0.0",
      "@babel/preset-env": "^7.0.0",
      "@babel/preset-flow": "^7.0.0",
      "@babel/preset-react": "^7.0.0",
      "abortcontroller-polyfill": "^1.2.5",
      "babel-core": "^7.0.0-bridge.0",
      "babel-plugin-dynamic-import-node-babel-7": "^2.0.7",
      "enzyme": "^3.3.0",
      "enzyme-adapter-react-16": "^1.1.1",
      "enzyme-to-json": "^3.3.4",
      "flow-bin": "^0.64.0",
      "flow-typed": "=2.5.1",
      "identity-obj-proxy": "^3.0.0",
      "jest-cli": "^24.1.0",
      "jest-css-modules": "^1.1.0",
      "jest-environment-jsdom": "^24.0.0",
      "jest-localstorage-mock": "^2.4.0",
      "json-server": "^0.14.0",
      "prettier": "^1.16.4",
      "react-scripts": "3.4.3",
      "redux-test-utils": "^0.3.0",
      "tcp-port-used": "^0.1.2",
      "whatwg-fetch": "^3.0.0"
   },
   "jest": {
      "transform": {
         "^.+\\.js$": "babel-jest"
      },
      "moduleNameMapper": {
         "\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga|css|less)$": "identity-obj-proxy"
      },
      "moduleFileExtensions": [
         "js",
         "jsx"
      ],
      "moduleDirectories": [
         "node_modules"
      ]
   },
   "browserslist": [
      ">0.2%",
      "not dead",
      "not ie <= 11",
      "not op_mini all"
   ]
}
